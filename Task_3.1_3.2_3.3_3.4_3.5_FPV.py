import numpy as np

# –ú–∞—Ç—Ä–∏—Ü—è –≤–∏—Ç—Ä–∞—Ç A (—Ä—è–¥–∫–∏: [–º–æ—Ç–æ—Ä–∏, –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏, –∞–∫—É–º—É–ª—è—Ç–æ—Ä–∏], —Å—Ç–æ–≤–ø—Ü—ñ: [–†–æ–∑–≤—ñ–¥–Ω–∏–∫, –ö–∞–º—ñ–∫–∞–¥–∑–µ, –í–∞–Ω—Ç–∞–∂–Ω–∏–π])
A = np.array([
    [4, 4, 6],  # –¥–≤–∏–≥—É–Ω–∏
    [1, 1, 2],  # –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏
    [1, 2, 4]   # –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∏
], dtype=float)

# –í–µ–∫—Ç–æ—Ä –∑–∞–≥–∞–ª—å–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç b
b = np.array([460, 130, 240], dtype=float)

# 1) –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–∑–Ω–∞—á–Ω–∏–∫–∞ 
det_A = np.linalg.det(A)
print(f"det(A) = {det_A}")

if np.isclose(det_A, 0.0):
    print("–°–∏—Å—Ç–µ–º–∞ –Ω–µ –º–∞—î —î–¥–∏–Ω–æ–≥–æ —Ä–æ–∑–≤'—è–∑–∫—É (det(A) ‚âà 0).")
else:
    # 2) –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ Ax = b 
    x = np.linalg.solve(A, b)     # (–∑–∞–∑–≤–∏—á–∞–π –ø–æ–≤–µ—Ä—Ç–∞—î float)
    print("\n–ó–Ω–∞–π–¥–µ–Ω–æ x (–º–æ–∂–µ –±—É—Ç–∏ –∑ –ø–ª–∞–≤–∞—é—á–æ—é –∫–æ–º–æ—é):")
    print(x)

    # –û–∫—Ä—É–≥–ª–∏–º–æ 
    x_int = np.rint(x).astype(int)

    # 3) –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: A * x –º–∞—î = b
    check = A * x
    check_int = A * x_int

    drone_names = ["–†–æ–∑–≤—ñ–¥–Ω–∏–∫ (x1)", "–ö–∞–º—ñ–∫–∞–¥–∑–µ (x2)", "–í–∞–Ω—Ç–∞–∂–Ω–∏–π (x3)"]

    print("\n–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑—ñ–±—Ä–∞–Ω–∏—Ö –¥—Ä–æ–Ω—ñ–≤:")
    for name, val in zip(drone_names, x_int):
        print(f"  {name}: {val}")

    print("\n–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ (A @ x):")
    print("  A * x =", check)
    print("  b =", b)

    print("\n–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑ —Ü—ñ–ª–∏–º–∏ (A @ x_int):")
    print("  A * x_int =", check_int)
    print("  b =", b.astype(int))
# Test: –†–æ–∑–≤—ñ–¥–Ω–∏–∫ x1‚Äã=20;  –ö–∞–º—ñ–∫–∞–¥–∑–µ ùë•2=50x2=50;  –í–∞–Ω—Ç–∞–∂–Ω–∏–π ùë•3=30x3=30
# –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞: A‚ãÖ[20,50,30]=[460,130,240]
